<!DOCTYPE html >
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Maximum Futility</title>
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.2/dist/bootstrap-table.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>

<h1>Maximum Futility - Franchises</h1>

<div>
    View <a href="/">city data</a>
</div>

<div>
    <table id="franchise-table" class="table table-striped table-sm fs-6" data-show-multi-sort="true" data-show-columns="true">
        <thead>
        <tr>
            <th colspan="1" rowspan="2" scope="col" data-sortable="true" data-searchable="true">City</th>
            <th colspan="1" rowspan="2" scope="col" data-sortable="true">Seasons</th>
            <th colspan="2" scope="col">Titles</th>
            <th colspan="2">Made Finals</th>
            <th colspan="2">Made Playoffs</th>
            <th colspan="2">Advanced in Playoffs</th>
            <th colspan="2">Best in Division</th>
            <th colspan="2">Best in Conference</th>
            <th colspan="2">Best Overall</th>
            <th colspan="2">Worst in Division</th>
            <th colspan="2">Worst in Conference</th>
            <th colspan="2">Worst Overall</th>
            <th colspan="1" rowspan="2" scope="col" data-sortable="true" data-sorter="percentSorter">Winning % in finals</th>
            <th colspan="1" rowspan="2" scope="col" data-sortable="true" data-sorter="percentSorter">Reached finals per playoff</th>
            <th colspan="1" rowspan="2" scope="col" data-sortable="true" data-sorter="percentSorter">Advanced in playoffs per playoffs</th>
        </tr>
        <tr>
            <th scope="col" data-sortable="true">#</th>
            <th scope="col" data-sortable="true" data-sorter="percentSorter">%</th>
            <th scope="col" data-sortable="true">#</th>
            <th scope="col" data-sortable="true" data-sorter="percentSorter">%</th>
            <th scope="col" data-sortable="true">#</th>
            <th scope="col" data-sortable="true" data-sorter="percentSorter">%</th>
            <th scope="col" data-sortable="true">#</th>
            <th scope="col" data-sortable="true" data-sorter="percentSorter">%</th>
            <th scope="col" data-sortable="true">#</th>
            <th scope="col" data-sortable="true" data-sorter="percentSorter">%</th>
            <th scope="col" data-sortable="true">#</th>
            <th scope="col" data-sortable="true" data-sorter="percentSorter">%</th>
            <th scope="col" data-sortable="true">#</th>
            <th scope="col" data-sortable="true" data-sorter="percentSorter">%</th>
            <th scope="col" data-sortable="true">#</th>
            <th scope="col" data-sortable="true" data-sorter="percentSorter">%</th>
            <th scope="col" data-sortable="true">#</th>
            <th scope="col" data-sortable="true" data-sorter="percentSorter">%</th>
            <th scope="col" data-sortable="true">#</th>
            <th scope="col" data-sortable="true" data-sorter="percentSorter">%</th>
        </tr>
        </thead>
        <tbody>
        <!--/*@thymesVar id="franchises" type="kotlin.collections.List<Franchise>"*/-->
            <tr th:each="franchise: ${franchises}">
                <!--/*@thymesVar id="franchise" type="mabersold.models.Franchise"*/-->
                <td th:text="${franchise.name}"></td>
                <td th:text="${franchise.totalSeasons}"></td>
                <td th:text="${franchise.totalChampionships}"></td>
                <td th:text="${#numbers.formatPercent(franchise.championshipsPerSeason, 1, 2)}"></td>
                <td th:text="${franchise.championshipAppearances}"></td>
                <td th:text="${#numbers.formatPercent(franchise.championshipAppearancesPerSeason, 1, 2)}"></td>
                <td th:text="${franchise.playoffAppearances}"></td>
                <td th:text="${#numbers.formatPercent(franchise.playoffAppearancesPerSeason, 1, 2)}"></td>
                <td th:text="${franchise.advancedInPlayoffs}"></td>
                <td th:text="${#numbers.formatPercent(franchise.advancedInPlayoffsPerSeason, 1, 2)}"></td>
                <td th:text="${franchise.bestInDivision}"></td>
                <td th:text="${#numbers.formatPercent(franchise.bestInDivisionPerSeason, 1, 2)}"></td>
                <td th:text="${franchise.bestInConference}"></td>
                <td th:text="${#numbers.formatPercent(franchise.bestInConferencePerSeason, 1, 2)}"></td>
                <td th:text="${franchise.bestOverall}"></td>
                <td th:text="${#numbers.formatPercent(franchise.bestOverallPerSeason, 1, 2)}"></td>
                <td th:text="${franchise.worstInDivision}"></td>
                <td th:text="${#numbers.formatPercent(franchise.worstInDivisionPerSeason, 1, 2)}"></td>
                <td th:text="${franchise.worstInConference}"></td>
                <td th:text="${#numbers.formatPercent(franchise.worstInConferencePerSeason, 1, 2)}"></td>
                <td th:text="${franchise.worstOverall}"></td>
                <td th:text="${#numbers.formatPercent(franchise.worstOverallPerSeason, 1, 2)}"></td>
                <td th:text="${#numbers.formatPercent(franchise.winningPercentageInFinals, 1, 2)}"></td>
                <td th:text="${#numbers.formatPercent(franchise.reachingFinalsPerPlayoffAppearance, 1, 2)}"></td>
                <td th:text="${#numbers.formatPercent(franchise.advancingInPlayoffsPerPlayoffAppearance, 1, 2)}"></td>
            </tr>
        </tbody>
    </table>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://unpkg.com/bootstrap-table@1.21.2/dist/bootstrap-table.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.21.2/dist/extensions/multiple-sort/bootstrap-table-multiple-sort.js"></script>

<script>
    $(function() {
        $('#franchise-table').bootstrapTable()
    })
</script>

<script>
    function percentSorter(a, b) {
        const aNumber = parseFloat(a.replace('%', ''));
        const bNumber = parseFloat(b.replace('%', ''));

        if (aNumber > bNumber) {
            return 1;
        } else if (bNumber > aNumber) {
            return -1;
        } else {
            return 0;
        }
    }
</script>

</body>
</html>
